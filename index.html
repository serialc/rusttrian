<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="docsearch:language" content="en">
        <meta name="author" content="Cyrille Médard de Chardon">

        <title>Rusttrian</title>

        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script src="js/bootstrap.min.js" type="text/javascript"></script>

        <script src="js/d3.v7.min.js" type="text/javascript"></script>
        <script src="js/quickhull.js" type="text/javascript"></script>

        <link href="css/rusttrian.css" rel="stylesheet">
    </head>
    
    <body class="bg-light">
        <nav class="navbar navbar-dark bg-dark">
          <div class="container">
            <span class="navbar-brand mb-0 h1">Rusttrian</span>
          </div>
        </nav>
        <div class="container pb-5">
            <div class="row">
                <div class="col-12">
                    <h1>Triangulate locations using two perspectives</h1>
                    <p>Locate a map point by providing the grid location and direction of a feature.</p>
                    <p>Know what you're doing? <a href="#letsgo">Let's go!</a></o>
                    <p>See below for the instructions and the tool.</p>
                </div>

                <div class="col-12">
                    <h2>Instructions</h2>

                    <div class="row">
                        <div class="col-3">
                            <p>In the case you have a map grid, as shown below, indicate the the location in the forms shown in each grid cell (e.g., C1, E5). Then indicate which heading or direction you wish to locate from both perspectives using compass headings (e.g., North is 0, East 90, South 180, West 270).</p>
                        </div>
                        <div class="col-9">
                            <p><img src="rsc/example1.svg" width="100%"></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <p>Due to the innacuracy of your location (the whole grid cell) the search area above, in green, is quite large. You can provide your location more accurately using the precision options that appear after submitting your first four parameters (as shown on the right).</p>
                        </div>

                        <div class="col-6">
                            <p><img src="rsc/accuracy.svg"></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-3">
                            <p>The results provide a much smaller area with the added location accuracy. Note that for this improved accuracy search a smaller uncertainty is added to the directions to provide an area rather than a point.</p>
                        </div>
                        <div class="col-9">
                            <p><img src="rsc/example2.svg" width="100%"></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <h2 id="letsgo">Basic inputs</h2>
                    <p>Provide the grid coordinate locations and headings from two perspectives.</p>
                    <form class="row g-3 needs-validation" novalidate>
                        <div class="col-md-6">
                            <label for="l1" class="form-label">Location 1</label>
                            <input type="text" class="form-control" id="l1" autofocus="autofocus" required>
                            <div class="form-text">Examples: C9, f22</div>
                        </div>
                        <div class="col-md-6">
                            <label for="d1" class="form-label">Heading 1</label>
                            <input type="number" class="form-control" id="d1" required>
                            <div class="form-text">Examples: 100, 70. North is 0/360.</div>
                        </div>

                        <div class="col-md-6">
                            <label for="l2" class="form-label">Location 2</label>
                            <input type="text" class="form-control" id="l2" required>
                        </div>
                        <div class="col-md-6">
                            <label for="d2" class="form-label">Heading 2</label>
                            <input type="number" class="form-control" id="d2" required>
                        </div>
                        <div class="text-end ol-md-12">
                            <button class="btn btn-primary" id="start">Triangulate</button>
                        </div>
                    </form>
                </div>

                <div id="advanced_options" class="col-md-6 d-none">
                    <h2>Advanced inputs</h2>
                    <p>Identify the location of each observer within the grids to increase precision and reduce the triangulation area below.</p>
                    <form class="row g-3 needs-validation mt-3" novalidate>
                        <label>Where within the grid cells are the observers located?</label>
                        <div id="l1g" class="col-6">
                            Location 1
                        </div>
                        <div id="l2g" class="col-6">
                            Location 2
                        </div>
                        <div class="text-end ol-md-12">
                            <button class="btn btn-primary" id="advanced" disabled>Improve accuracy</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <h2 class="mb-5">Results</h2>
<style>
.pointer {
    cursor: pointer;
}
.hover {
    cursor: pointer;
    transition: opacity 0.5s;
}
.hover:hover {
    opacity: 1;
}

</style>
                    <p id="results"></p>
                </div>
            </div>

            <!--
            <div class="row">
                <div class="col-md-12">
                    <h2>Test</h2>
                    <p>Results in console</p>
                    <ol>
                        <li><a href="#/" onclick="TR.test(1)">Grid coordinate to metric bounds</a></li>
                        <li><a href="#/" onclick="TR.test(2)">Test triangulation</a></li>
                        <li></li>
                    </ol>
                </div>
            </div>
            -->
        </div>
        <footer class="container-fluid mt-5 pb-5 bg-dark text-light">
            <div class="container">
                <div class="row align-items-start">
                    <div class="col-sm-6 col-lg-6 mt-5">
                        <h3 class="mb-4">By</h3>
                        <p>Cyrille Médard de Chardon</p>
                        <p>Want to <a href="https://github.com/serialc/rusttrian">make changes</a>?</p>
                  </div>

                  <div class="col-sm-6 col-lg-6 mt-5">
                    <h3 class="mb-4">Using</h3>
                    <a href="https://getbootstrap.com/">Bootstrap</a><br>
                    <a href="https://d3js.org/">D3.js</a><br>
                    <a href="https://github.com/claytongulick/quickhull">Clayton Gulick's QuickHull</a><br>
                  </div>
                </div>
            </div>
        </footer>
    </body>
    <script src="js/rusttrian.js" type="text/javascript"></script>
</html>
